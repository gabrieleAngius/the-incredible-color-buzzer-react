(this["webpackJsonpthe-incredible-color-buzzer-2.0"]=this["webpackJsonpthe-incredible-color-buzzer-2.0"]||[]).push([[0],{17:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(12),a=c.n(i),s=(c(17),c(2)),o=c(4),l=c(0);function u(){return Object(l.jsxs)("div",{className:"step-container",children:[Object(l.jsx)("h2",{children:"Come giocare"}),Object(l.jsxs)("p",{children:["Il gioco consiste nel selezionare (tramite uno dei 4 bottoni) il colore del quale si \xe8 illuminata la luce centrale,"," ",Object(l.jsx)("strong",{children:"prima che il tempo finisca."})]}),Object(l.jsx)("p",{children:Object(l.jsx)("em",{children:"Attenzione, selezionare un bottone prima che la luce si sia accesa porter\xe0 alla perdita del round, quindi fai attenzione a premere al momento giusto!"})})]})}function j(){return Object(l.jsxs)("div",{id:"step-2",className:"step-container",children:[Object(l.jsx)("h2",{children:"Le vite"}),Object(l.jsx)("p",{children:"In totale hai a disposizione 3 vite! Usale bene: perderle tutte e 3 porter\xe0 alla finde della partita."}),Object(l.jsx)("p",{children:Object(l.jsx)("em",{children:"Piccolo aiuto: far scadere il tempo ti far\xe0 perdere una vita ma non diminuir\xe0 il tempo a disposizione!"})}),Object(l.jsx)("p",{className:"small-p",children:"*maggiori info nella prossima sezione"})]})}function b(){return Object(l.jsxs)("div",{id:"step-3",className:"step-container",children:[Object(l.jsx)("h2",{children:"Il tempo"}),Object(l.jsxs)("p",{children:["Il tempo \xe8 tuo nemico! Ad ogni round completato con successo il tempo a disposizione per rispondere correttamente"," ",Object(l.jsx)("strong",{children:"viene ridotto,"})," fino ad un minimo di 1/5 di quello iniziale."]}),Object(l.jsx)("p",{children:Object(l.jsx)("em",{children:"Inoltre, ad ogni round la luce si accender\xe0 in seguito ad un intervallo di tempo casuale tra 0.15 e 1.5 secondi, perci\xf2 tieni i tuoi riflessi pronti!"})})]})}function d(){return Object(l.jsxs)("div",{id:"step-4",className:"step-container",children:[Object(l.jsx)("h2",{children:"Il punteggio"}),Object(l.jsx)("p",{children:"Pi\xf9 sarai veloce a rispondere, maggiore sar\xe0 il punteggio assegnato:"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("em",{children:"entro 1/3 del tempo:"})," 50 punti"]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("em",{children:"entro 2/3 del tempo:"})," 25 punti"]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("em",{children:"entro 3/3 del tempo:"})," 10 punti"]})]}),Object(l.jsxs)("p",{children:["Diventa il nuovo campione di ",Object(l.jsx)("em",{children:"INCREDIBLE COLOR BUZZER!"})]})]})}var O=function(e){var t=e.number;return 1===t?Object(l.jsx)(u,{}):2===t?Object(l.jsx)(j,{}):3===t?Object(l.jsx)(b,{}):4===t?Object(l.jsx)(d,{}):void 0},h=function(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),c=t[0],r=t[1];return Object(l.jsxs)("section",{id:"how-to-play",className:"display modal",children:[Object(l.jsx)(o.b,{to:"/",id:"close-how-to",children:Object(l.jsx)("i",{className:"fa fa-times"})}),Object(l.jsx)(O,{number:c}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("button",{id:"prec",className:"generic-button small white",onClick:function(){0!==c-1&&r((function(e){return e-1}))},disabled:1===c,children:"Precedente"}),Object(l.jsx)("button",{id:"succ",className:"generic-button small red",onClick:function(){5!==c+1&&r((function(e){return e+1}))},disabled:4===c,children:"Successivo"})]})]})},f=function(){return Object(l.jsxs)("section",{className:"display",id:"landing",children:[Object(l.jsx)("h1",{children:"The incredible color buzzer"}),Object(l.jsxs)("div",{children:[Object(l.jsx)(o.b,{to:"/leaderboard",children:Object(l.jsx)("button",{className:"generic-button red",id:"open-leaders",children:"Leaderboard"})}),Object(l.jsx)(o.b,{to:"/how-to-play",children:Object(l.jsx)("button",{className:"generic-button red",id:"open-how-to",children:"Istruzioni"})}),Object(l.jsx)(o.b,{to:"now-playing",children:Object(l.jsx)("button",{className:"generic-button white",id:"start",children:"Inizia"})})]})]})},p=c(8),m=c.n(p),x=c(11),v="http://localhost:3000/leaderboard";function g(){return y.apply(this,arguments)}function y(){return(y=Object(x.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(v);case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function N(){return(N=Object(x.a)(m.a.mark((function e(t,c){var n,r,i,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:Date.now(),username:t,score:c},r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)},e.prev=2,e.next=5,fetch(v,r);case 5:return i=e.sent,e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var S=c(9);function w(e){return Object(S.a)(e).sort((function(e,t){return Number(t.score)-Number(e.score)})).slice(0,10)}var C={default:{title:"Partita finita",subtitle:"Riprova, puoi fare di meglio!"},oneOfTenleaders:{title:"Ottimo punteggio!",subtitle:"Sei tra i 10 migliori classificati!"},newBestScore:{title:"Fenomenale!",subtitle:"Hai stabilito un nuovo record!"},noLeaderBoard:{title:"Partita finita!",subtitle:"Impossibile ottenere la classifica"}},E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)("Caricamento Leaderboard..."),a=Object(s.a)(i,2),u=a[0],j=a[1],b=Object(n.useState)(!1),d=Object(s.a)(b,2),O=d[0],h=d[1];return Object(n.useEffect)((function(){g().then((function(e){return w(e)})).then((function(e){return r(e)}))}),[]),Object(n.useEffect)((function(){c[0]?(h(!0),j("")):j("A causa di un errore non \xe8 stato possibile recuperare la leaderboard")}),[c]),Object(l.jsxs)("section",{id:"leaderboard",className:"display modal",children:[Object(l.jsxs)("p",{children:[" ",u," "]}),O&&Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{colSpan:"3",children:Object(l.jsx)("h2",{children:"Leaderboard"})})})}),Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"N\xb0"}),Object(l.jsx)("th",{children:"Nome"}),Object(l.jsx)("th",{children:"Miglior punteggio"})]}),c&&c.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.username}),Object(l.jsx)("td",{children:e.score})]},e.id)}))]})]}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("button",{className:"generic-button red",children:"Esci"})})]})};function z(e){var t=e.score,c=e.toggleExitButtons,r=Object(n.useState)(""),i=Object(s.a)(r,2),a=i[0],o=i[1],u=Object(n.useState)(""),j=Object(s.a)(u,2),b=j[0],d=j[1],O=Object(n.useState)(!1),h=Object(s.a)(O,2),f=h[0],p=h[1],m="fa-arrow-right",x="fa-circle-o-notch fa-spin",v="fa-check",g=Object(n.useState)(m),y=Object(s.a)(g,2),S=y[0],w=y[1];return Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),w(x),0===a.length||!a.trim())return d("Compila il campo di input !"),void w(m);(function(e,t){return N.apply(this,arguments)})(a,t).then((function(e){e?(d("Punteggio registrato correttamente"),w(v),c(!1),p(!0)):(d("Errore: punteggio non registrato"),w(m))}))},children:[Object(l.jsx)("label",{htmlFor:"username",children:"Il tuo username:"}),Object(l.jsxs)("span",{children:[Object(l.jsx)("input",{type:"text",name:"username",id:"username",max:"3",maxLength:"3",size:"3",value:a,onChange:function(e){o(e.target.value)}}),Object(l.jsxs)("button",{className:"generic-button white",id:"save-user-button",type:"submit",disabled:f,children:[" ",Object(l.jsx)("i",{className:"fa ".concat(S," fa-2x")})," "]})]}),Object(l.jsxs)("p",{children:[" ",b," "]})]})}var k=["#ff0000","#11D700","#0044F3","#FFC700"];function I(e,t){return Math.floor(Math.random()*(t-e+1))+e}function V(){return k[I(0,3)]}var T=Object(n.createContext)(),P=function(e){var t=Object(n.useState)(6e3),c=Object(s.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)(0),o=Object(s.a)(a,2),u=o[0],j=o[1],b=Object(n.useState)(I(500,1500)),d=Object(s.a)(b,2),O=d[0],h=d[1],f=Object(n.useState)(!1),p=Object(s.a)(f,2),m=p[0],x=p[1],v=Object(n.useState)(0),g=Object(s.a)(v,2),y=g[0],N=g[1],S=Object(n.useState)({success:null,fail:null,lost:null}),w=Object(s.a)(S,2),C={defaultTimeValue:[r,i],countdownValue:[u,j],delayValue:[O,h],timerOnValue:[m,x],pointsValue:[y,N],soundEffectsValue:[w[0],w[1]]};return Object(l.jsx)(T.Provider,{value:C,children:e.children})};function L(){var e=Object(n.useContext)(T).pointsValue,t=Object(s.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),a=Object(s.a)(i,2),u=a[0],j=a[1],b=Object(n.useState)({title:"Partita finita",subtitle:"Caricamento..."}),d=Object(s.a)(b,2),O=d[0],h=d[1],f=Object(n.useState)(!1),p=Object(s.a)(f,2),m=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),N=y[0],S=y[1];return Object(n.useEffect)((function(){return c>0&&g().then((function(e){return w(e)})).then((function(e){return j(e)})),function(){return r(0)}}),[]),Object(n.useEffect)((function(){if(h(function(e,t){return e<=0?C.default:t.length<=0?C.noLeaderBoard:e>t[0].score?C.newBestScore:t.length<10||e>t[t.length-1].score?C.oneOfTenleaders:C.default}(c,u)),u[9]){var e=c>0&&c>u[9].score;x(e),S(!0)}}),[u]),Object(l.jsxs)("section",{id:"modal-end",className:"display modal",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:O.title}),Object(l.jsx)("p",{children:O.subtitle})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Il tuo punteggio:"}),Object(l.jsx)("p",{className:"big-p",children:c})]}),m&&Object(l.jsx)(z,{score:c,toggleExitButtons:S}),Object(l.jsxs)("div",{children:[Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("button",{className:"generic-button red",id:"exit-endmodal",disabled:N,children:"Esci"})}),Object(l.jsx)(o.b,{to:"/now-playing",children:Object(l.jsx)("button",{className:"generic-button white",id:"riprova",disabled:N,children:"Riprova"})})]})]})}var B=c(3);function F(e){var t=e.color;return Object(l.jsx)("svg",{children:Object(l.jsx)("circle",{cx:"75",cy:"75",r:"60",fill:t,id:"light"})})}function A(e){var t=e.lives,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],a=r[1];return Object(n.useEffect)((function(){return t<3&&(a(!0),setTimeout((function(){a(!1)}),1e3)),function(){return a(!1)}}),[t]),Object(l.jsxs)("p",{id:"lives",children:[Object(l.jsx)("i",{className:"fa fa-heart","aria-hidden":"true",style:t>0?{color:"red"}:{color:"grey"}}),Object(l.jsx)("i",{className:"fa fa-heart","aria-hidden":"true",style:t>1?{color:"red"}:{color:"grey"}}),Object(l.jsx)("i",{className:"fa fa-heart","aria-hidden":"true",style:t>2?{color:"red"}:{color:"grey"}}),Object(l.jsx)("span",{style:i?{display:"block"}:{display:"none"},children:"-1"})]})}function D(){var e=Object(n.useContext)(T).pointsValue,t=Object(s.a)(e,1)[0],c=Object(n.useState)("paused"),r=Object(s.a)(c,2),i=r[0],a=r[1];return Object(n.useEffect)((function(){a("running"),setTimeout((function(){a("paused")}),500)}),[t]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{id:"points",style:{animationPlayState:"".concat(i)},children:t}),Object(l.jsx)("p",{className:"small-p",children:"Punteggio"})]})}function M(e){var t=e.callback,c=Object(n.useContext)(T),r=c.defaultTimeValue,i=c.countdownValue,a=c.timerOnValue,o=Object(s.a)(r,1)[0],u=Object(s.a)(i,2),j=u[0],b=u[1],d=Object(s.a)(a,2),O=d[0],h=d[1],f="black",p="red",m=Object(n.useState)(f),x=Object(s.a)(m,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){var e=null;if(O&&j>0){var c=j;e=setInterval((function(){c<=20&&(t(!0),h(!1),clearInterval(e)),c<=o/3&&g(p),b((function(e){return e-20})),c-=20}),20)}else clearInterval(e);return function(){clearInterval(e),g(f)}}),[O]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"big-p",style:{color:"".concat(v)},children:(j/1e3).toFixed(3)}),Object(l.jsx)("p",{className:"small-p",children:"Tempo restante"})]})}function R(e){var t=e.color,c=e.callback,n=t||"grey",r={backgroundColor:n,border:"3px solid ".concat(n)};return Object(l.jsx)("button",{className:"radio",style:r,onClick:function(){return c(n)}})}function q(){var e=Object(n.useContext)(T),t=e.defaultTimeValue,c=e.countdownValue,r=e.delayValue,i=e.timerOnValue,a=e.pointsValue,u=e.soundEffectsValue,j=Object(s.a)(t,1)[0],b=Object(s.a)(c,2),d=b[0],O=b[1],h=Object(s.a)(r,2),f=h[0],p=h[1],m=Object(s.a)(i,2)[1],x=Object(s.a)(a,2)[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),y=g[0],N=g[1],w=Object(n.useState)("grey"),C=Object(s.a)(w,2),E=C[0],z=C[1],P=Object(n.useState)(k),L=Object(s.a)(P,2),q=L[0],J=L[1],U=Object(n.useState)(3),Z=Object(s.a)(U,2),H=Z[0],G=Z[1],K=Object(n.useState)(1),Q=Object(s.a)(K,2),W=Q[0],X=Q[1],Y=Object(s.a)(u,1)[0];function $(e){m(!1),E===e||"grey"===E?"grey"!==E&&(!function(){var e=d/3;if(d<=e)return void x((function(e){return e+10}));if(d<=2*e)return void x((function(e){return e+25}));x((function(e){return e+50}))}(),d>=j/5&&O((function(e){return e-200})),Y.success.play(),p(I(500,1500)),X((function(e){return e+1}))):_()}function _(e){if(G((function(e){return e-1})),0===H)return Y.lost.play(),m(!1),void N(!0);e&&O(j),Y.fail.play(),p(I(500,1500)),X((function(e){return e+1}))}return Object(n.useEffect)((function(){return O(j),function(){m(!1),O(0),z("grey"),G(3)}}),[]),Object(n.useEffect)((function(){z("grey"),J([]),setTimeout((function(){z(V),J(function(e){for(var t=Object(S.a)(e),c=t.length-1;c>0;c--){var n=Math.floor(Math.random()*(c+1)),r=[t[n],t[c]];t[c]=r[0],t[n]=r[1]}return t}(k)),m(!0)}),f)}),[W]),Object(l.jsxs)("section",{id:"game",className:"display modal",children:[y&&Object(l.jsx)(B.a,{to:"/end-match"}),Object(l.jsxs)("h2",{children:["Round ",W]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)(o.b,{to:"/end-match",children:Object(l.jsx)("button",{className:"generic-button blue small",id:"leave",children:"Esci"})}),Object(l.jsx)(A,{lives:H}),Object(l.jsx)(D,{})]}),Object(l.jsxs)("div",{className:"column",children:[Object(l.jsx)(M,{callback:_}),Object(l.jsx)(F,{color:E}),Object(l.jsxs)("div",{className:"row",id:"buzzers-container",children:[Object(l.jsx)(R,{color:q[0],callback:$}),Object(l.jsx)(R,{color:q[1],callback:$}),Object(l.jsx)(R,{color:q[2],callback:$}),Object(l.jsx)(R,{color:q[3],callback:$})]})]})]})}var J=c.p+"static/media/gamemusic.9ffa82bb.mp3",U=c.p+"static/media/success-sound.afd72154.mp3",Z=c.p+"static/media/fail-round.318b9182.mp3",H=c.p+"static/media/match-lose.22069b61.mp3";function G(){var e=Object(n.useState)(new Audio(J)),t=Object(s.a)(e,1)[0];t.loop=!0,t.autoplay=!0;var c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],a=r[1],o=Object(n.useContext)(T).soundEffectsValue,u=Object(s.a)(o,2),j=u[0],b=u[1];return Object(n.useEffect)((function(){var e=new Audio(U);e.muted=!0;var t=new Audio(Z);t.muted=!0;var c=new Audio(H);c.muted=!0,b({success:e,fail:t,lost:c})}),[]),Object(l.jsx)("button",{id:"toggle-audio",onClick:function(){if(i)return a(!1),t.pause(),void function(e){for(var t in e)e[t].muted=!0}(j);a(!0),t.play(),function(e){for(var t in e)e[t].muted=!1}(j)},"aria-label":"toggle sounds",children:Object(l.jsx)("i",{className:"fa fa-volume-".concat(i?"up":"off"),"aria-hidden":"true"})})}var K=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(P,{children:[Object(l.jsx)(G,{}),Object(l.jsxs)(B.d,{children:[Object(l.jsx)(B.b,{path:"/",element:Object(l.jsx)(f,{})}),Object(l.jsx)(B.b,{path:"/how-to-play",element:Object(l.jsx)(h,{})}),Object(l.jsx)(B.b,{path:"/leaderboard",element:Object(l.jsx)(E,{})}),Object(l.jsx)(B.b,{path:"/now-playing",element:Object(l.jsx)(q,{})}),Object(l.jsx)(B.b,{path:"/end-match",element:Object(l.jsx)(L,{})})]})]})})})},Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(K,{})}),document.getElementById("root")),Q()}},[[20,1,2]]]);
//# sourceMappingURL=main.b1e4f4bd.chunk.js.map